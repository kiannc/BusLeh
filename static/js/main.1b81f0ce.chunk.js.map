{"version":3,"sources":["history.js","components/Logo/index.js","components/Spinner/index.js","components/SubmitButton/index.js","routes/InputForm/index.js","apis/lta.js","components/BusItem/index.js","routes/BusList/index.js","components/App.js","index.js"],"names":["createHashHistory","styles","zoomIn","animation","animationName","Radium","keyframes","Logo","react_default","a","createElement","style_root","className","style","htmlFor","React","Component","Spinner","react_loader_spinner_default","type","color","this","props","height","width","SubmitButton","_ref","isSubmitting","disabled","components_Spinner","fadeIn","withFormik","mapPropsToValues","busStopCode","busServiceNo","validationSchema","Yup","shape","max","required","handleSubmit","_handleSubmit","Object","asyncToGenerator","regenerator_default","mark","_callee","values","_ref2","setSubmitting","wrap","_context","prev","next","setErrors","history","push","err","console","log","stop","_x","_x2","apply","arguments","touched","errors","handleChange","handleBlur","onSubmit","id","placeholder","value","onChange","onBlur","pattern","components_SubmitButton","Axios","create","baseURL","headers","AccountKey","process","accept","CURRENT_TIME","moment","BusItem","_this","classCallCheck","possibleConstructorReturn","getPrototypeOf","call","state","busETA","getTimeDiffInMinutes","etaTime","undefined","diff","result","Number","busType","ServiceNo","bus","NextBus","Type","busArrival","EstimatedArrival","nextBusArrival","NextBus2","concat","isBusDoubleDecker","isBusArriving","format","BusList","getLTA","res","LTA","get","params","BusStopCode","sent","data","Services","sort","b","parseInt","setState","busDataArray","isLoading","componentDidMount","_callee3","_context3","interval","setInterval","_callee2","_context2","onClickBackButton","match","currentTime","_this2","clearInterval","onClick","map","index","components_BusItem","key","renderBusStopCode","length","renderErrorMessage","renderBusItem","getCurrentTime","renderBackButton","renderSpinner","renderBusList","App","busListView","showbusListView","getBusArrivalData","components_Logo","react_router_dom","react_router","path","exact","component","InputForm","require","config","ReactDOM","render","components_App","document","querySelector"],"mappings":"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","file":"static/js/main.1b81f0ce.chunk.js","sourcesContent":["// Used createHashHistory for github hosting\nimport { createHashHistory } from 'history';\n\nexport default createHashHistory();","import React from 'react';\nimport './style.css';\nimport '../../../node_modules/@fortawesome/fontawesome-pro/css/all.min.css';\n\nimport { zoomIn } from 'react-animations';\nimport Radium, {StyleRoot} from 'radium';\n\nconst styles = {\n  zoomIn: {\n    animation: 'x 2s',\n    animationName: Radium.keyframes(zoomIn, 'zoomIn')\n  }\n}\n\nclass Logo extends React.Component {\n  render () {\n    return (\n      <StyleRoot>\n        <div className=\"center logoContainer\" style={styles.zoomIn}>\n          <div className=\"logo\">\n            <div className=\"circleShape\">\n              <i className=\"fal fa-bus busIcon\"></i>\n            </div>\n          </div>\n          <div className=\"logoText\">\n            <label htmlFor=\"\">\n              BusLeh...\n            </label>\n          </div>\n        </div>\n      </StyleRoot>\n    )\n  }\n}\n\nexport default Logo;\n","import React from 'react';\nimport Loader from 'react-loader-spinner';\nimport './style.css';\n\nclass Spinner extends React.Component {\n  render () {\n    return (\n      <div className=\"loaderMargin\">\n        <Loader\n          type=\"ThreeDots\"\n          color={this.props.color}\n          height=\"30\"\n          width=\"30\"\n        />\n      </div>\n    )\n  }\n}\n\nexport default Spinner;","import React from 'react';\nimport './style.css'\n\nimport Spinner from '../Spinner';\n\nconst SubmitButton = ({ isSubmitting }) => {\n  return (\n    <div className=\"submitButton\">\n      <button className=\"ui button shadow\" type=\"submit\" disabled={isSubmitting}>\n        {\n          isSubmitting ? <Spinner color={\"#8E54E9\"}/> : 'Submit'\n        }\n      </button>\n    </div>\n  )\n}\n\nexport default SubmitButton","import React from 'react';\nimport './style.css'\nimport { fadeIn } from 'react-animations';\nimport Radium, {StyleRoot} from 'radium';\nimport { withFormik } from 'formik';\nimport * as Yup from 'yup';\nimport history from '../../history';\n\nimport SubmitButton from '../../components/SubmitButton';\n\n\nconst styles = {\n  fadeIn: {\n    animation: 'x 2s',\n    animationName: Radium.keyframes(fadeIn, 'fadeIn')\n  }\n}\n\nconst InputForm = (props) => {\n  const {\n    values,\n    touched,\n    errors,\n    isSubmitting,\n    handleChange,\n    handleBlur,\n    handleSubmit\n  } = props;\n\n  return (\n    <StyleRoot>\n      <div className=\"formContainer\" style={styles.fadeIn}>\n        <form onSubmit={handleSubmit} className=\"ui form\">\n          <div className=\"field shadow\">\n            <input\n              id=\"busStopCode\"\n              placeholder=\"Enter bus stop code\"\n              type=\"number\"\n              value={values.busStopCode}\n              onChange={handleChange}\n              onBlur={handleBlur}\n              pattern=\"\\d*\"\n              className={\n                errors.busStopCode && touched.busStopCode ? 'text-input error' : 'text-input'\n              }\n            />\n            {errors.busStopCode && touched.busStopCode && (\n              <div className=\"input-feedback errorText\">{errors.busStopCode}</div>\n            )}\n          </div>\n          {/* <div className=\"field shadow\">\n            <input\n                id=\"busServiceNo\"\n                placeholder=\"Enter bus service no\"\n                type=\"number\"\n                value={values.busServiceNo}\n                onChange={handleChange}\n                onBlur={handleBlur}\n                pattern=\"\\d*\"\n                className={\n                  errors.busServiceNo && touched.busServiceNo ? 'text-input error' : 'text-input'\n                }\n              />\n              {errors.busServiceNo && touched.busServiceNo && (\n                <div className=\"input-feedback errorText\">{errors.busServiceNo}</div>\n              )}\n          </div> */}\n\n          <SubmitButton isSubmitting={isSubmitting} />\n        </form>\n      </div>\n    </StyleRoot>\n  );\n};\n\nexport default withFormik({\n  mapPropsToValues: ({ busStopCode, busServiceNo }) => ({\n    busStopCode: busStopCode || '',\n    busServiceNo: busServiceNo || ''\n  }),\n\n  validationSchema: Yup.object().shape({\n    busStopCode: Yup.string().max(5,'Bus stop code must be 5 digit long').required('Bus stop code is required!'),\n  }),\n\n  handleSubmit: async (values, { setErrors, setSubmitting, props }) => {\n    try {\n      setSubmitting(false);\n      history.push('/busArrival/' + values.busStopCode);\n\n    } catch(err) {\n      console.log('Failed to get a response', err);\n    }\n  }\n})(InputForm);","import Axios from 'axios';\n\n// const KEY = 'bhuGt2pYQOyl4X5xwj+VgQ==';\n\nexport default Axios.create({\n   baseURL: 'https://cors-anywhere.herokuapp.com/http://datamall2.mytransport.sg/',\n   headers: {\n     'AccountKey': process.env.REACT_APP_LTA_API_KEY,\n     'accept': 'application/json',\n   }\n});","import React from 'react';\nimport './style.css';\nimport moment from 'moment';\n\nconst CURRENT_TIME = moment();\n\nclass BusItem extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      busETA: 0\n    }\n  }\n\n  componentDidMount() {\n    this.getTimeDiffInMinutes();\n  }\n\n  getTimeDiffInMinutes(etaTime) {\n    if (etaTime === null || etaTime === '' || etaTime === undefined) {\n      return 'NEA'\n    }\n    let momentEtaTime = moment(etaTime);\n    let diff = momentEtaTime.diff(CURRENT_TIME, 'minutes');\n    return diff <= 0 ? 'Arr' : diff;\n  }\n\n  isBusArriving(etaTime) {\n    let result = this.getTimeDiffInMinutes(etaTime);\n    if (result === 'NEA' || Number(result)) {\n      return false;\n    } else {\n      return true;\n    }\n  }\n\n  isBusDoubleDecker(busType) {\n    return busType === 'DD' ? true : false;\n  }\n\n  render () {\n    const {\n      ServiceNo,\n    } = this.props.bus;\n\n    let busType = this.props.bus.NextBus.Type;\n    console.log('busType: ', this.props.bus.NextBus.Type);\n    let busArrival = this.props.bus.NextBus.EstimatedArrival;\n    let nextBusArrival = this.props.bus.NextBus2.EstimatedArrival;\n\n    return (\n      <div className=\"item\">\n        <div className=\"content\">\n          <div className=\"icon\">\n            <i className={`fal fa-bus bus ${this.isBusDoubleDecker(busType) ? 'purple' : '' }`}></i>\n          </div>\n          <div className=\"busNumber\">\n            <div>{ServiceNo}</div>\n          </div>\n          <div className={`busArrivalTime ${this.isBusArriving(nextBusArrival) ? 'green' : 'grey2'}`}>\n            <div>\n              { this.getTimeDiffInMinutes(nextBusArrival) }\n            </div>\n          </div>\n          <div className={`busArrivalTime marginRight ${this.isBusArriving(busArrival) ? 'green' : 'grey'}`}>\n            <div>\n              { this.getTimeDiffInMinutes(busArrival) }\n            </div>\n          </div>\n        </div>\n      </div>\n    )\n  }\n}\n\nexport default BusItem;","import React from 'react';\nimport moment from 'moment';\nimport './style.css';\nimport { fadeIn } from 'react-animations';\nimport Radium, {StyleRoot} from 'radium';\nimport history from '../../history';\n\nimport LTA from '../../apis/lta';\nimport BusItem from '../../components/BusItem';\nimport Spinner from '../../components/Spinner';\nimport busListData from './busListData';\n\nconst CURRENT_TIME = moment().format('MMMM Do YYYY, h:mm:ss a');\n\nconst styles = {\n  fadeIn: {\n    animation: 'x 2s',\n    animationName: Radium.keyframes(fadeIn, 'fadeIn')\n  }\n}\n\nclass BusList extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      busStopCode: this.props.match.params.busStopCode,\n      busDataArray: [],\n      isLoading: true,\n      currentTime: moment().format('MMMM Do YYYY, h:mm:ss a')\n    }\n  }\n\n  getLTA = async () => {\n    const res = await LTA.get('/ltaodataservice/BusArrivalv2?', {\n      params: {\n        BusStopCode: this.state.busStopCode\n      }\n    });\n\n    // Sort the array based on bus service no\n    res.data.Services.sort(function (a,b) {\n      return parseInt(a.ServiceNo) - parseInt(b.ServiceNo);\n    })\n\n    this.setState({\n      busDataArray: res.data.Services,\n      isLoading: false\n    })\n  }\n\n  getCurrentTime() {\n    this.interval = setInterval(() => {\n      this.setState({\n        currentTime: moment().format('MMMM Do YYYY, h:mm:ss a')\n      })\n    }, 60000)\n    return this.state.currentTime;\n  }\n\n  componentDidMount = async () => {\n    await this.getLTA();\n\n    this.interval = setInterval( async () => {\n      await this.getLTA();\n    }, 60000)\n\n    // this.setState({\n    //   busDataArray: busListData,\n    //   // busDataArray: [],\n    //   isLoading: false\n    // })\n  }\n\n  componentWillUnmount() {\n    clearInterval(this.interval);\n  }\n\n  onClickBackButton = () => {\n    history.push('/');\n  }\n\n  renderBackButton() {\n    return (\n      <div className=\"backButton\" >\n        <button\n          onClick={this.onClickBackButton}\n        >\n          Back\n        </button>\n      </div>\n    )\n  }\n\n  renderSpinner() {\n    return (\n      <div className=\"spinnerBusList\">\n        <Spinner color={\"white\"} />\n        Wait arh, Loading!\n      </div>\n    )\n  }\n\n  renderBusStopCode() {\n    return (\n      <div className=\"item\">\n        <div className=\"content signPostContainer\">\n          <div className=\"icon\">\n            <i className=\"fal fa-sign signPost\"></i>\n          </div>\n          <div className=\"busStopCode\">\n            <div>{this.state.busStopCode}</div>\n          </div>\n        </div>\n      </div>\n    )\n  }\n\n  renderErrorMessage () {\n    return (\n      <div>\n        <div className=\"errorIconContainer\">\n          <i className=\"fal fa-exclamation-triangle errorIcon\"></i>\n        </div>\n        <div className=\"errorMessage\">\n          <p>\n            Sorry! We are unable to find the arrival time for this bus stop,\n            Please ensure the code you entered is a valid one.\n          </p>\n        </div>\n      </div>\n    )\n  }\n\n  renderBusItem () {\n    return (\n      this.state.busDataArray.map((bus, index) => {\n        return (\n          <BusItem bus={bus} key={index}/>\n        )\n      })\n    )\n  }\n\n  renderBusList() {\n    return (\n      <div>\n        <div className=\"ui container shadow\" style={styles.fadeIn}>\n          <div className=\"ui segment\">\n            <div className=\"ui relaxed divided list\">\n              { this.renderBusStopCode() }\n              { this.state.busDataArray.length === 0 ? this.renderErrorMessage() : this.renderBusItem() }\n              <div className=\"lastUpdatedTime\">\n                <label>\n                  Last Updated: { this.getCurrentTime() }\n                </label>\n              </div>\n            </div>\n          </div>\n        </div>\n        {this.renderBackButton()}\n      </div>\n    )\n  }\n\n  render () {\n    return (\n      <StyleRoot>\n        {this.state.isLoading ? this.renderSpinner() : this.renderBusList() }\n      </StyleRoot>\n    )\n  }\n}\n\nexport default BusList;","import React from 'react';\nimport { HashRouter, Route, Switch } from \"react-router-dom\";\nimport '../../src/style.css'\nimport history from '../history';\n\nimport Logo from '../components/Logo';\nimport InputForm from '../routes/InputForm'\nimport BusList from '../routes/BusList';\n\nclass App extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      data: {}\n    }\n  }\n\n  onClickBackButton = () => {\n    this.setState({\n      busListView: false\n    })\n  }\n\n  showbusListView = (busListView) => {\n    this.setState({\n      busListView: busListView,\n    })\n  }\n\n  getBusArrivalData = (data) => {\n    this.setState({\n      data: data\n    })\n  }\n\n  render () {\n    return (\n      <div className=\"wrapper\">\n        <div className=\"ui container bodyContainer\">\n          <Logo />\n          <HashRouter history={history}>\n            <Switch>\n              <Route path=\"/\" exact component={InputForm} />\n              <Route path=\"/busArrival/:busStopCode\" component={BusList} />\n            </Switch>\n          </HashRouter>\n        </div>\n      </div>\n    )\n  }\n}\n\nexport default App;","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from '../src/components/App';\nrequire('dotenv').config();\n\nReactDOM.render(<App />, document.querySelector('#root'));"],"sourceRoot":""}